<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <link rel="stylesheet" href="assets/css/style.css">
  <title>Plataforma Lattes - CNPq</title>
</head>
<body>

  <div id="header"></div>
  <div id="navbar"></div>

  <section class="hero-section">
    <div class="container">
      <div class="text-center my-1">
        <div class="search-container">
      <div class="search-box">
        <h3 class="text-center mb-4">Buscar Currículos e Instituições</h3>
        <p class="text-center text-muted mb-4">Encontre pesquisadores, instituições e grupos de pesquisa</p>
        
        <div class="search-input-group">
          <i class="bi bi-search search-icon"></i>
          <input type="search" 
                 id="campoBusca" 
                 class="form-control search-input" 
                 placeholder="Digite nome, instituição, área do conhecimento...">
          <button class="btn search-btn" type="button" id="btnBuscar">
            <i class="bi bi-search me-1"></i> Buscar
          </button>
          <button class="btn btn-outline-primary filter-btn" type="button" data-bs-toggle="dropdown">
            <i class="bi bi-funnel me-1"></i> Filtros
          </button>
          <div class="dropdown-menu filter-dropdown">
            <h6 class="dropdown-header">Filtrar por:</h6>
            <div class="filter-item">
              <input class="form-check-input me-2" type="checkbox" id="filtroDoutores">
              <label class="form-check-label" for="filtroDoutores">Doutores</label>
            </div>
            <div class="filter-item">
              <input class="form-check-input me-2" type="checkbox" id="filtroMestres">
              <label class="form-check-label" for="filtroMestres">Mestres</label>
            </div>
            <div class="filter-item">
              <input class="form-check-input me-2" type="checkbox" id="filtroGraduados">
              <label class="form-check-label" for="filtroGraduados">Graduados</label>
            </div>
            <div class="dropdown-divider"></div>
            <h6 class="dropdown-header">Área do Conhecimento</h6>
            <select class="form-select form-select-sm">
              <option>Todas as áreas</option>
              <option>Ciências Exatas e da Terra</option>
              <option>Ciências Biológicas</option>
              <option>Engenharias</option>
              <option>Ciências da Saúde</option>
              <option>Ciências Agrárias</option>
              <option>Ciências Sociais Aplicadas</option>
              <option>Ciências Humanas</option>
              <option>Linguística, Letras e Artes</option>
            </select>
          </div>
        </div>
        
        <div class="text-center mt-3">
          <small class="text-muted">
            <i class="bi bi-lightbulb me-1"></i>
            Dica: Use termos específicos para melhores resultados
          </small>
        </div>
      </div>
    </div>
      </div>
    </div>
  </section>

  <main class="container">
    <div id="resultadoBusca" class="mt-3">
      <div class="text-center">
        <div class="no-results" id="initialMessage">
          <i class="bi bi-search"></i>
          <h4 class="mb-3">Realize uma busca</h4>
          <p class="text-muted">Digite um termo na caixa de busca acima para encontrar currículos e instituições</p>
        </div>
        <div class="loading-spinner" id="loadingSpinner"></div>
      </div>
    </div>

  </main>

  <div id="footer"></div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const btnBuscar = document.getElementById('btnBuscar');
      const campoBusca = document.getElementById('campoBusca');
      const resultadoDiv = document.getElementById('resultadoBusca');
      const loadingSpinner = document.getElementById('loadingSpinner');
      const initialMessage = document.getElementById('initialMessage');
      const destaques = document.getElementById('destaques');

      const dadosSimulados = [
        {
          id: "L1234567",
          nome: "Prof. Dr. Carlos Alberto Silva",
          inst: "USP - Universidade de São Paulo",
          area: "Ciência da Computação, Inteligência Artificial",
          desc: "Professor Titular do Departamento de Ciência da Computação. Pesquisador em Machine Learning com mais de 150 artigos publicados em periódicos internacionais. Coordenador do Laboratório de Inteligência Computacional.",
          foto: "https://randomuser.me/api/portraits/men/32.jpg"
        },
        {
          id: "L2345678",
          nome: "Dra. Maria Fernanda Santos",
          inst: "Unicamp - Universidade Estadual de Campinas",
          area: "Biomedicina, Genética Molecular",
          desc: "Pesquisadora em genética molecular e terapia celular. Desenvolve pesquisas com células-tronco para tratamento de doenças degenerativas. Possui 5 patentes registradas.",
          foto: "https://randomuser.me/api/portraits/women/44.jpg"
        },
        {
          id: "L3456789",
          nome: "Prof. Dr. Roberto Lima Alves",
          inst: "UFMG - Universidade Federal de Minas Gerais",
          area: "Engenharia Civil, Materiais de Construção",
          desc: "Especialista em materiais de construção sustentáveis. Desenvolveu novos compostos cimentícios com redução de 40% na emissão de CO2. Coordena projeto internacional com 8 países.",
          foto: "https://randomuser.me/api/portraits/men/65.jpg"
        }
      ];

      function realizarBusca() {
        const termo = campoBusca.value.trim();
        
        if (termo === "") {
          resultadoDiv.innerHTML = `
            <div class="no-results">
              <i class="bi bi-exclamation-circle"></i>
              <h4 class="mb-3">Digite um termo para buscar</h4>
              <p class="text-muted">Por favor, insira um nome, instituição ou área do conhecimento</p>
            </div>
          `;
          return;
        }

        initialMessage.style.display = 'none';
        loadingSpinner.style.display = 'block';
        destaques.style.display = 'none';

        setTimeout(() => {
          const resultados = dadosSimulados.filter(r =>
            r.nome.toLowerCase().includes(termo.toLowerCase()) ||
            r.inst.toLowerCase().includes(termo.toLowerCase()) ||
            r.area.toLowerCase().includes(termo.toLowerCase())
          );

          loadingSpinner.style.display = 'none';

          if (resultados.length === 0) {
            resultadoDiv.innerHTML = `
              <div class="no-results">
                <i class="bi bi-search"></i>
                <h4 class="mb-3">Nenhum resultado encontrado</h4>
                <p class="text-muted">Tente usar termos diferentes ou verificar a ortografia</p>
                <button class="btn btn-outline-primary mt-3" onclick="limparBusca()">Nova Busca</button>
              </div>
            `;
            return;
          }

          let html = `
            <div class="mb-4">
              <span class="result-count">${resultados.length} resultado(s) encontrado(s)</span>
              <p class="text-muted">Termo buscado: <strong>"${termo}"</strong></p>
            </div>
          `;

          resultados.forEach((r, index) => {
            html += `
              <div class="result-card">
                <div class="card-body">
                  <div class="row">
                    <div class="col-md-2 text-center">
                      <img src="${r.foto}" class="profile-img mb-3">
                    </div>
                    <div class="col-md-8">
                      <h5 class="card-title">${r.nome}</h5>
                      <p class="text-muted mb-2">
                        <i class="bi bi-building me-1"></i>${r.inst}
                      </p>
                      <p class="mb-2">
                        <span class="badge badge-area">${r.area.split(',')[0]}</span>
                        ${r.area.split(',').slice(1).map(a => `<span class="badge bg-light text-dark">${a.trim()}</span>`).join(' ')}
                      </p>
                      <p class="small text-muted mb-3">${r.desc}</p>
                      <div class="d-flex justify-content-between align-items-center">
                        <small class="text-muted">
                          <i class="bi bi-card-text me-1"></i>ID Lattes: ${r.id}
                        </small>
                        <div>
                          <a href="#" class="btn btn-primary btn-sm me-2">
                            <i class="bi bi-eye me-1"></i> Ver Currículo
                          </a>
                          <a href="#" class="btn btn-outline-primary btn-sm">
                            <i class="bi bi-download me-1"></i> PDF
                          </a>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-2 text-md-end">
                      <button class="btn btn-link text-muted" onclick="adicionarFavorito('${r.id}')">
                        <i class="bi bi-star"></i> Favoritar
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            `;
          });

          if (resultados.length > 3) {
            html += `
              <nav aria-label="Navegação de resultados" class="mt-4">
                <ul class="pagination justify-content-center">
                  <li class="page-item disabled">
                    <a class="page-link" href="#" tabindex="-1">Anterior</a>
                  </li>
                  <li class="page-item active"><a class="page-link" href="#">1</a></li>
                  <li class="page-item"><a class="page-link" href="#">2</a></li>
                  <li class="page-item"><a class="page-link" href="#">3</a></li>
                  <li class="page-item">
                    <a class="page-link" href="#">Próxima</a>
                  </li>
                </ul>
              </nav>
            `;
          }

          resultadoDiv.innerHTML = html;
        }, 800);
      }

      btnBuscar.addEventListener('click', realizarBusca);
      campoBusca.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
          e.preventDefault();
          realizarBusca();
        }
      });

      window.limparBusca = function() {
        campoBusca.value = '';
        initialMessage.style.display = 'block';
        loadingSpinner.style.display = 'none';
        destaques.style.display = 'flex';
        resultadoDiv.innerHTML = '';
      };

      window.adicionarFavorito = function(id) {
        alert(`Currículo ${id} adicionado aos favoritos!`);
      };

      const sugestoes = [
        "Inteligência Artificial",
        "Biomedicina",
        "Engenharia Civil",
        "USP",
        "Unicamp",
        "Genética",
        "Sustentabilidade"
      ];

      campoBusca.placeholder = `Ex: ${sugestoes[Math.floor(Math.random() * sugestoes.length)]}...`;
    });
  </script>
  <script src="assets/js/component-loader.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>