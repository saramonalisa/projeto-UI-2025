<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <link rel="stylesheet" href="assets/css/style.css">
  <title>Dados e Estatísticas - Plataforma Lattes</title>
</head>
<body>

  <div id="header-logged"></div>
  <div id="navbar"></div>

  <main class="container py-4">
    <div class="row mb-4">
      <div class="col-12">
        <h1 class="mb-3">Dados e Estatísticas</h1>
      </div>
    </div>

    <div class="row mb-4">
      <div class="col-md-3 col-6 mb-3">
        <div class="card h-100">
          <div class="card-body text-center">
            <div class="text-primary mb-2">
              <i class="bi bi-people-fill fs-1"></i>
            </div>
            <h3 class="h5">2.5M</h3>
            <p class="text-muted small mb-0">Currículos</p>
          </div>
        </div>
      </div>
      <div class="col-md-3 col-6 mb-3">
        <div class="card h-100">
          <div class="card-body text-center">
            <div class="text-primary mb-2">
              <i class="bi bi-building fs-1"></i>
            </div>
            <h3 class="h5">5.2K</h3>
            <p class="text-muted small mb-0">Instituições</p>
          </div>
        </div>
      </div>
      <div class="col-md-3 col-6 mb-3">
        <div class="card h-100">
          <div class="card-body text-center">
            <div class="text-primary mb-2">
              <i class="bi bi-mortarboard fs-1"></i>
            </div>
            <h3 class="h5">1.2M</h3>
            <p class="text-muted small mb-0">Doutores</p>
          </div>
        </div>
      </div>
      <div class="col-md-3 col-6 mb-3">
        <div class="card h-100">
          <div class="card-body text-center">
            <div class="text-primary mb-2">
              <i class="bi bi-geo-alt fs-1"></i>
            </div>
            <h3 class="h5">27</h3>
            <p class="text-muted small mb-0">Estados</p>
          </div>
        </div>
      </div>
    </div>

    <div class="row g-3">
      <div class="col-lg-6">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">
              <i class="bi bi-pie-chart me-2"></i>
              Região dos Pesquisadores
            </h5>
            <canvas id="regiaoChart" height="150"></canvas>
          </div>
        </div>
      </div>

      <div class="col-lg-6">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">
              <i class="bi bi-gender-ambiguous me-2"></i>
              Distribuição por Gênero
            </h5>
            <canvas id="generoChart" height="150"></canvas>
          </div>
        </div>
      </div>

      <div class="col-lg-6">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">
              <i class="bi bi-palette me-2"></i>
              Cor/Raça
            </h5>
            <canvas id="corChart" height="150"></canvas>
          </div>
        </div>
      </div>

      <div class="col-lg-6">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">
              <i class="bi bi-calendar3 me-2"></i>
              Faixa Etária
            </h5>
            <canvas id="idadeChart" height="150"></canvas>
          </div>
        </div>
      </div>
    </div>

    <div class="row mt-4">
      <div class="col-12">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title mb-3">
              <i class="bi bi-table me-2"></i>
              Top 5 Estados
            </h5>
            <div class="table-responsive">
              <table class="table table-hover">
                <thead>
                  <tr>
                    <th>Estado</th>
                    <th>Pesquisadores</th>
                    <th>% do Total</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>São Paulo</td>
                    <td>856.421</td>
                    <td>33.6%</td>
                  </tr>
                  <tr>
                    <td>Rio de Janeiro</td>
                    <td>421.658</td>
                    <td>16.5%</td>
                  </tr>
                  <tr>
                    <td>Minas Gerais</td>
                    <td>385.421</td>
                    <td>15.1%</td>
                  </tr>
                  <tr>
                    <td>Rio Grande do Sul</td>
                    <td>245.789</td>
                    <td>9.6%</td>
                  </tr>
                  <tr>
                    <td>Paraná</td>
                    <td>198.654</td>
                    <td>7.8%</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

<div id="footer"></div>
  <script src="assets/js/component-loader.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    const chartConfig = {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: {
          position: 'bottom',
          labels: {
            boxWidth: 12,
            padding: 10,
            font: {
              size: 11
            }
          }
        }
      }
    };

    const regiaoData = {
      labels: ['Sudeste', 'Sul', 'Nordeste', 'Centro-Oeste', 'Norte'],
      datasets: [{
        data: [48, 22, 18, 8, 4],
        backgroundColor: ['#414094', '#8CB1D5', '#6A8AC7', '#a0c4e3', '#d1e3f4']
      }]
    };

    const generoData = {
      labels: ['Masculino', 'Feminino', 'Não informado'],
      datasets: [{
        data: [52, 46, 2],
        backgroundColor: ['#414094', '#8CB1D5', '#6A8AC7']
      }]
    };

    const corData = {
      labels: ['Branca', 'Parda', 'Preta', 'Amarela', 'Indígena'],
      datasets: [{
        data: [52, 32, 12, 3, 1],
        backgroundColor: ['#414094', '#8CB1D5', '#6A8AC7', '#a0c4e3', '#d1e3f4']
      }]
    };

    const idadeData = {
      labels: ['≤ 30', '31-40', '41-50', '51-60', '> 60'],
      datasets: [{
        data: [15, 35, 28, 17, 5],
        backgroundColor: '#414094',
        borderColor: '#8CB1D5',
        borderWidth: 1
      }]
    };

    new Chart(document.getElementById('regiaoChart'), {
      type: 'pie',
      data: regiaoData,
      options: chartConfig
    });

    new Chart(document.getElementById('generoChart'), {
      type: 'doughnut',
      data: generoData,
      options: chartConfig
    });

    new Chart(document.getElementById('corChart'), {
      type: 'pie',
      data: corData,
      options: chartConfig
    });

    new Chart(document.getElementById('idadeChart'), {
      type: 'bar',
      data: idadeData,
      options: {
        ...chartConfig,
        scales: {
          y: {
            beginAtZero: true,
            ticks: {
              callback: function(value) {
                return value + '%';
              }
            }
          }
        }
      }
    });
  </script>

</body>
</html>